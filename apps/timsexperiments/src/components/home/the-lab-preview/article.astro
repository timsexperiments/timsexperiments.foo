---
import { type CollectionEntry } from 'astro:content';

type Props = CollectionEntry<'blog'>['data'] & {
  slug: CollectionEntry<'blog'>['slug'];
};

const { title, pubDate, tldr, slug } = Astro.props;

const formattedDate = new Intl.DateTimeFormat('en-US', {
  dateStyle: 'full',
}).format(pubDate);

const absoluteLink = `/lab/${slug}`;
---

<div class="w-full">
  <h2 class="text-xl font-semibold">{title}</h2>
  <p class="mt-2 text-sm text-rhino-500">
    {formattedDate}
  </p>
  <p class="break my-4 line-clamp-6 h-full min-w-0 text-ellipsis text-wrap">
    {tldr}
  </p>
  <a
    href={absoluteLink}
    class="text-primary-600 underline dark:text-primary-500">
    Read more
  </a>
</div>
